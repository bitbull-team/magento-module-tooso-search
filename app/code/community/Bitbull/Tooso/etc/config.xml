<?xml version="1.0"?>
<!--
/**
 * @package Bitbull_Tooso
 * @author Gennaro Vietri <gennaro.vietri@bitbull.it>
 */
-->
<config>
    <modules>
        <Bitbull_Tooso>
            <version>1.0.0</version>
        </Bitbull_Tooso>
    </modules>
    <global>
        <models>
            <tooso>
                <class>Bitbull_Tooso_Model</class>
            </tooso>
            <catalogsearch_resource>
                <rewrite>
                    <fulltext>Bitbull_Tooso_Model_CatalogSearch_Resource_Fulltext</fulltext>
                    <query>Bitbull_Tooso_Model_Resource_CatalogSearch_Query</query>
                    <fulltext_collection>Bitbull_Tooso_Model_Resource_CatalogSearch_Fulltext_Collection</fulltext_collection>
                </rewrite>
            </catalogsearch_resource>
        </models>
        <resources>
            <tooso_setup>
                <setup>
                    <module>Bitbull_Tooso</module>
                </setup>
            </tooso_setup>
        </resources>
        <helpers>
            <tooso>
                <class>Bitbull_Tooso_Helper</class>
            </tooso>
            <catalogsearch>
                <rewrite>
                    <data>Bitbull_Tooso_Helper_CatalogSearch_Data</data>
                </rewrite>
            </catalogsearch>
        </helpers>
        <blocks>
            <tooso>
                <class>Bitbull_Tooso_Block</class>
            </tooso>
            <catalogsearch>
                <rewrite>
                    <result>Bitbull_Tooso_Block_CatalogSearch_Result</result>
                    <autocomplete>Bitbull_Tooso_Block_CatalogSearch_Autocomplete</autocomplete>
                </rewrite>
            </catalogsearch>
        </blocks>
        <template>
            <email>
                <tooso_alert_email_template translate="label" module="tooso">
                    <label>Send report for API error</label>
                    <file>tooso_alert.html</file>
                    <type>html</type>
                </tooso_alert_email_template>
            </email>
        </template>
        <importexport>
            <export_file_formats>
                <tooso_csv translate="label">
                    <model_token>tooso/export_adapter_csv</model_token>
                    <label>CSV</label>
                </tooso_csv>
            </export_file_formats>
        </importexport>
    </global>
    <admin>
        <routers>
            <adminhtml>
                <args>
                    <modules>
                        <Bitbull_Tooso before="Mage_Adminhtml">Bitbull_Tooso_Adminhtml</Bitbull_Tooso>
                    </modules>
                </args>
            </adminhtml>
        </routers>
    </admin>
    <default>
        <tooso>
            <active>
                <frontend>0</frontend>
                <admin>0</admin>
            </active>
            <server>
                <api_key />
                <send_report>1</send_report>
                <force_log>1</force_log>
            </server>
            <suggest>
                <max_results>10</max_results>
            </suggest>
        </tooso>
    </default>
    <crontab>
        <jobs>
            <tooso_reindex>
                <schedule>
                    <cron_expr>*/15 * * * *</cron_expr>
                </schedule>
                <run>
                    <model>tooso/observer::rebuildIndex</model>
                </run>
            </tooso_reindex>
        </jobs>
    </crontab>
    <phpunit>
        <suite>
            <modules>
                <Bitbull_Tooso />
            </modules>
            <groups>
                <lib>Lib</lib>
            </groups>
        </suite>
    </phpunit>
</config>